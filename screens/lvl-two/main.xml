<screen xmlns:layout="urn:aviarc:widget:layout" xmlns:composition="urn:aviarc:widget:composition">
    <layout:master-template left="0" top="0" bottom="0" right="0">
        <content id="main">
            <kinetic name="kinetic" width="100%" height="100%" y-axis="n" class="nowrap" overflow="hidden">
                <container name="status1" position="relative" width="200" height="100%" class="inline-block outline-grey">
                    <container position="absolute" offset="0">
                        <composition:status left="0" top="100" bottom="0" right="0"/>
                    </container>
                </container>
                <container position="relative" width="100%" height="100%" class="inline-block">
                    <container position="absolute" offset="0"></container>
                </container>
                <edge-detecting-container name="status2" position="relative" width="200" height="100%" class="inline-block outline-grey">
                    <container position="absolute" offset="0">
                        <composition:status left="0" top="100" bottom="0" right="0"/>
                    </container>
                </edge-detecting-container>
                <container position="relative" width="100%" height="100%" class="inline-block">
                    <container position="absolute" offset="0"></container>
                </container>
                <edge-detecting-container name="status3" position="relative" width="200" height="100%" class="inline-block outline-grey">
                    <container position="absolute" offset="0">
                        <composition:status left="0" top="100" bottom="0" right="0"/>
                    </container>
                </edge-detecting-container>
                <container position="relative" width="100%" height="100%" class="inline-block">
                    <container position="absolute" offset="0"></container>
                </container>
                <edge-detecting-container name="status4" position="relative" width="200" height="100%" class="inline-block outline-grey">
                    <container position="absolute" offset="0">
                        <composition:status left="0" top="100" bottom="0" right="0"/>
                    </container>
                </edge-detecting-container>
                <edge-detecting-container name="stage4" position="relative" width="100%" height="100%" class="inline-block">
                    <container position="absolute" offset="0">
                        <scene name="stage4Scene" position="relative" width="100%" height="100%" class="inline-block" path="/aviarc/game/www/img/scene2"  extension="jpg" frames="82">
                            <range name="landing1" start="1" end="53"/>
                            <range name="landing2" start="53" end="80"/>
                            <range name="landing3" start="80" end="82"/>
                            <container name="landing1Box" left="50" bottom="50" width="500" height="300" visible="n" class="opacity80 dark default-cursor rounded">
                                <button label="Select" bottom="20" right="20" width="80" height="40"/>
                            </container>
                            <container name="landing2Box" left="50" bottom="50" width="500" height="300" visible="n" class="opacity80 dark default-cursor rounded">
                                <button label="Select" bottom="20" right="20" width="80" height="40"/>
                            </container>
                            <container name="landing3Box" left="50" bottom="50" width="500" height="300" visible="n" class="opacity80 dark default-cursor rounded">
                                <button label="Select" bottom="20" right="20" width="80" height="40"/>
                            </container>
                        </scene>
                    </container>
                </edge-detecting-container>
                <edge-detecting-container name="status5" position="relative" width="200" height="100%" class="inline-block outline-grey">
                    <container position="absolute" offset="0">
                        <composition:status left="0" top="100" bottom="0" right="0"/>
                    </container>
                </edge-detecting-container>
                <container position="relative" width="100%" height="100%" class="inline-block">
                    <container position="absolute" offset="0"></container>
                </container>
                <edge-detecting-container name="status6" position="relative" width="200" height="100%" class="inline-block outline-grey">
                    <container position="absolute" offset="0">
                        <composition:status left="0" top="100" bottom="0" right="0"/>
                    </container>
                </edge-detecting-container>
                <container position="relative" width="100%" height="100%" class="inline-block">
                    <container position="absolute" offset="0"></container>
                </container>
                <edge-detecting-container name="status7" position="relative" width="200" height="100%" class="inline-block outline-grey">
                    <container position="absolute" offset="0">
                        <composition:status left="0" top="100" bottom="0" right="0"/>
                    </container>
                </edge-detecting-container>
                <container position="relative" width="100%" height="100%" class="inline-block">
                    <container position="absolute" offset="0"></container>
                </container>
                <edge-detecting-container name="status8" position="relative" width="200" height="100%" class="inline-block outline-grey">
                    <container position="absolute" offset="0">
                        <composition:status left="0" top="100" bottom="0" right="0"/>
                    </container>
                </edge-detecting-container>
                <container position="relative" width="100%" height="100%" class="inline-block">
                    <container position="absolute" offset="0"></container>
                </container>
            </kinetic>
            <behaviors xmlns="urn:aviarc:widget:com.aviarc.toronto.widget.core.action">
                <when event="kinetic.onMove">
                    <call-widget-method method="status2.update" value1="{$event-parameters.left}" value2="{$event-parameters.top}" value3="{$event-parameters.isMovingLeft}" value4="{$event-parameters.isMovingUp}"/>
                    <call-widget-method method="status3.update" value1="{$event-parameters.left}" value2="{$event-parameters.top}" value3="{$event-parameters.isMovingLeft}" value4="{$event-parameters.isMovingUp}"/>
                    <call-widget-method method="status4.update" value1="{$event-parameters.left}" value2="{$event-parameters.top}" value3="{$event-parameters.isMovingLeft}" value4="{$event-parameters.isMovingUp}"/>
                    <call-widget-method method="stage4.update" value1="{$event-parameters.left}" value2="{$event-parameters.top}" value3="{$event-parameters.isMovingLeft}" value4="{$event-parameters.isMovingUp}"/>
                    <call-widget-method method="status5.update" value1="{$event-parameters.left}" value2="{$event-parameters.top}" value3="{$event-parameters.isMovingLeft}" value4="{$event-parameters.isMovingUp}"/>
                    <call-widget-method method="status6.update" value1="{$event-parameters.left}" value2="{$event-parameters.top}" value3="{$event-parameters.isMovingLeft}" value4="{$event-parameters.isMovingUp}"/>
                    <call-widget-method method="status7.update" value1="{$event-parameters.left}" value2="{$event-parameters.top}" value3="{$event-parameters.isMovingLeft}" value4="{$event-parameters.isMovingUp}"/>
                    <call-widget-method method="status8.update" value1="{$event-parameters.left}" value2="{$event-parameters.top}" value3="{$event-parameters.isMovingLeft}" value4="{$event-parameters.isMovingUp}"/>
                </when>
                <when event="status2.edgeDetected">
                    <call-widget-method method="kinetic.adjustScrollLeft" value1="{$event-parameters.left}"/>
                </when>
                <when event="status3.edgeDetected">
                    <call-widget-method method="kinetic.adjustScrollLeft" value1="{$event-parameters.left}"/>
                </when>
                <when event="status4.edgeDetected">
                    <call-widget-method method="kinetic.adjustScrollLeft" value1="{$event-parameters.left}"/>
                </when>
                <when event="stage4.edgeDetected">
                    <call-widget-method method="kinetic.adjustScrollLeft" value1="{$event-parameters.left}"/>
                    <call-widget-method method="kinetic.setX" value1="n"/>
                    <call-widget-method method="stage4Scene.bindDragListener"/>
                </when>
                <when event="stage4Scene.onEndReached">
                    <call-widget-method method="kinetic.setX" value1="y"/>
                </when>
                <when event="status5.edgeDetected">
                    <call-widget-method method="kinetic.adjustScrollLeft" value1="{$event-parameters.left}"/>
                </when>
                <when event="status6.edgeDetected">
                    <call-widget-method method="kinetic.adjustScrollLeft" value1="{$event-parameters.left}"/>
                </when>
                <when event="status7.edgeDetected">
                    <call-widget-method method="kinetic.adjustScrollLeft" value1="{$event-parameters.left}"/>
                </when>
                <when event="status8.edgeDetected">
                    <call-widget-method method="kinetic.adjustScrollLeft" value1="{$event-parameters.left}"/>
                </when>
                <when event="stage4Scene.onRange">
                    <if>
                        <condition test="equal" value1="{$event-parameters.inRange}" value2="true"/>
                        <then>
                            <call-widget-method method="{$event-parameters.name}Box.show"/>
                        </then>
                        <else>
                            <call-widget-method method="{$event-parameters.name}Box.hide"/>
                        </else>
                    </if>
                </when>
            </behaviors>
        </content>
    </layout:master-template>
</screen>