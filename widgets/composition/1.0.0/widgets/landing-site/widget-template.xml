<container
    position="{@position}"
    width="{@width}"
    height="{@height}"
    left="{@left}"
    right="{@right}"
    top="{@top}"
    bottom="{@bottom}"
    margin="{@margin}"
    margin-top="{@margin-top}"
    margin-bottom="{@margin-bottom}"
    margin-left="{@margin-left}"
    margin-right="{@margin-right}"
    padding="{@padding}"
    padding-top="{@padding-top}"
    padding-bottom="{@padding-bottom}"
    padding-left="{@padding-left}"
    padding-right="{@padding-right}"
    class="{@class}"
    xmlns:support="urn:aviarc:widget:support"
    xmlns:action="urn:aviarc:widget:com.aviarc.toronto.widget.core.action">
    <support:datacontext workflow="composition/landing-site/init">
        <support:parameters>
            <support:param name="stage-name" value="{@stage-name}"/>
        </support:parameters>
        <scene name="{@name}-stage4Scene" position="relative" width="100%" height="100%" path="/aviarc/game/www/img/scene2" extension="jpg" frames="82">
            <repeater dataset="stages/options" scroll-to-new="n" auto-refresh="n" show-timer="n">
                <container name="{@name}-{$stages/options.value}Box" left="50" bottom="50" width="500" height="300" visible="n" class="opacity80 dark default-cursor rounded">
                    <button label="Select" bottom="20" right="20" width="80" height="40"/>
                </container>
                <action:when system-event="onBindComplete">
                    <action:call-widget-method method="{@name}-stage4Scene.registerRange" value1="{@name}-{$stages/options.value}Box" value2="{$stages/options.range-start}" value3="{$stages/options.range-end}"/>
                </action:when>
            </repeater>
        </scene>
        <behaviors xmlns="urn:aviarc:widget:com.aviarc.toronto.widget.core.action">
            <when widget-event="{@name}.onBindDragListener">
                <call-widget-method method="{@name}-stage4Scene.bindDragListener"/>
            </when>
            <when event="{@name}-stage4Scene.onRange">
                <if>
                    <condition test="equal" value1="{$event-parameters.inRange}" value2="true"/>
                    <then>
                        <set-field field="_landing-site.landingBoxName">
                            <support:get-namespaced-widget-name widget="{$event-parameters.name}"/>
                        </set-field>
                        <call-widget-method method="{$_landing-site.landingBoxName}.show"/>
                    </then>
                    <else>
                        <set-field field="_landing-site.landingBoxName">
                            <support:get-namespaced-widget-name widget="{$event-parameters.name}"/>
                        </set-field>
                        <call-widget-method method="{$_landing-site.landingBoxName}.hide"/>
                    </else>
                </if>
            </when>
            <when event="{@name}-stage4Scene.onEndReached">
                <call-widget-method method="{@name}.endReached"/>
            </when>
        </behaviors>
    </support:datacontext>
</container>